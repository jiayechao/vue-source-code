## 数据驱动

```js
{{message}}

new Vue({
  el: '#el',
  data: {
    message: 'hellow world'
  }
})
```

message被渲染到了html，这是如何做到的。
```js
function Vue (options) {
  // 只允许vue实例
  if (process.env.NODE_ENV !== 'production' &&
    !(this instanceof Vue)
  ) {
    warn('Vue is a constructor and should be called with the `new` keyword')
  }
  this._init(options)
}

// 每一个mixin主要功能是往Vue的原型上混入一些方法属性
initMixin(Vue)
```

这个是定义Vue的函数，当我们new Vue时，执行了_init方法，这个init方法就是定义在`./init.js`中。我们可以在这里打断点查看，这样更直观。
```js
initLifecycle(vm)
initEvents(vm)
initRender(vm)
callHook(vm, 'beforeCreate')
initInjections(vm) // resolve injections before data/props
initState(vm)
initProvide(vm) // resolve provide after data/props
callHook(vm, 'created')
```
可以看到这个函数中初始化很多东西，比如合并配置，初始化生命周期，初始化render，hook，初始化state，event等。但是最终他执行的是
```js
if (vm.$options.el) {
  vm.$mount(vm.$options.el)
}
```
通过断点分析，执行$mount后页面message被替换为`hello world`。所以我们将重点放到这个mount函数上

## vue挂载实现

`$mount`的定义是在入口文件，我们分析的是compiler版本，所以看`entry-runtime-with-compiler.js`文件，这里的`$mount`方法是在`runtion/index`中最初定义的。